(()=>{"use strict";function t(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return a=t.done,t},e:function(t){l=!0,c=t},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw c}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function n(t,e){var n=document.createElement("div");n.classList.add("movie"),n.id=e.id;var o=document.createElement("img");o.classList.add("movie__img"),o.src=e.image_url,o.alt=e.title;var r=document.createElement("div");r.classList.add("movie__overlay");var i=document.createElement("p");i.classList.add("movie__title"),i.textContent=e.title,n.onclick=function(){!function(t){var e=document.getElementById("modal"),n=document.getElementById("modal-content");fetch("http://localhost:8000/api/v1/titles/".concat(t)).then((function(t){return t.json()})).then((function(t){n.innerHTML='\n  <img class="movie__img" src='.concat(t.image_url,"></img>\n  <div>\n    <p>Titre : ").concat(t.title,"</p>\n    <p>Genre(s) : ").concat(t.genres,"</p>\n    <p>Date de publication : ").concat(t.date_published,"</p>\n    <p>Score : ").concat(t.rated,"</p>\n    <p>Score Imbd : ").concat(t.imdb_score,"</p>\n    <p>Directeur(s) : ").concat(t.directors,"</p>\n    <p>Acteurs : ").concat(t.actors,"</p>\n    <p>Durée : ").concat(t.duration," minutes</p>\n    <p>Pays : ").concat(t.countries,"</p>\n    <p>Box office mondial : ").concat(t.worldwide_gross_income,"</p>\n    <p>Description : ").concat(t.description,"</p>\n  </dev>"),e.style.display="block"}))}(e.id)},r.appendChild(i),n.appendChild(o),n.appendChild(r),t.appendChild(n)}function o(e,o,r){var i=document.createElement("div");i.classList.add("category");var c=document.createElement("h2");c.classList.add("category__title"),c.textContent=o;var a=document.createElement("div");a.classList.add("movies-container");var l=document.createElement("a");l.textContent="<";var d=document.createElement("a");d.textContent=">",i.appendChild(c),i.appendChild(l),i.appendChild(d),i.appendChild(a),r.appendChild(i);var s=0;fetch("http://localhost:8000/api/v1/titles/?format=json&sort_by=-imdb_score&genre=".concat(e)).then((function(t){return t.json()})).then((function(e){var o,r=t(e.results);try{for(r.s();!(o=r.n()).done;){var i=o.value;n(a,i),s+=1}}catch(t){r.e(t)}finally{r.f()}e.previous&&(console.log(e.previous),l.href=e.previous),e.next&&(console.log(e.next),d.href=e.next,fetch(e.next).then((function(t){return t.json()})).then((function(e){var o,r=t(e.results);try{for(r.s();!(o=r.n()).done;){var i=o.value;s<7&&(n(a,i),s+=1)}}catch(t){r.e(t)}finally{r.f()}})))}))}var r={"":"Films les mieux notés","Sci-Fi":"Science-Fiction",Adventure:"Aventure",Comedy:"Comédie"},i=document.getElementById("categories"),c=(document.getElementById("best-movie"),document.getElementById("best-movie-img")),a=document.getElementById("best-movie-title");for(var l in fetch("http://localhost:8000/api/v1/titles/?format=json&sort_by=-imdb_score").then((function(t){return t.json()})).then((function(t){var e=t.results[0];a.textContent=e.title,n(c,e)})),r)o(l,r[l],i);window.onclick=function(t){t.target==modal&&(modal.style.display="none")}})();